{"ast":null,"code":"import _classCallCheck from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/src/app/router/Home/Login/index.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport APIURL from '../../../../constants/ApiUrl';\nimport Loader from 'react-loader-spinner';\nimport store from 'store';\nimport { connect } from 'react-redux';\nimport { userSignInSuccess } from '../../../../actions';\nexport var Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      user: '',\n      password: '',\n      is_loading: false\n    };\n    _this.displayRegDlg = _this.displayRegDlg.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"displayRegDlg\",\n    value: function displayRegDlg() {\n      $(document).ready(function () {\n        $('#login').addClass('d-none');\n        $('#login').removeClass('d-block');\n        $('#register').addClass('d-block');\n      });\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      if (this.state.user === '') {\n        $('#user_wrap').addClass('border-danger');\n        return false;\n      } else {\n        $('#user_wrap').removeClass('border-danger');\n      }\n\n      if (this.state.password === '') {\n        $('#pass_wrap').addClass('border-danger');\n        return false;\n      } else {\n        $('#pass_wrap').removeClass('border-danger');\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n\n      if (!this.validate()) {\n        return;\n      }\n\n      this.setState({\n        is_loading: true\n      });\n      var params = {\n        user: this.state.user,\n        password: this.state.password\n      };\n      axios.post(APIURL.USER_SIGNIN, params).then(function (data) {\n        _this2.setState({\n          is_loading: false\n        });\n\n        var result = data.data;\n\n        _this2.props.userSignInSuccess(result.data);\n      }).catch(function (error) {\n        _this2.setState({\n          is_loading: false\n        });\n\n        if (error.response.data.code === 0) {\n          $('#user_wrap').addClass('border-danger');\n        } else {\n          $('#pass_wrap').addClass('border-danger');\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        id: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-10 mx-auto my-5 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card box-shadow-v2 bg-white u-of-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"bg-primary m-0 py-3 text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"LOG IN\"), React.createElement(\"div\", {\n        className: \"p-4 p-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group u-rounded-50 border u-of-hidden u-mb-20\",\n        id: \"user_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-addon bg-white border-0 pl-4 pr-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"icon icon-User text-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        id: \"user\",\n        type: \"text\",\n        className: \"form-control border-0 p-3\",\n        placeholder: \"Your email or full name\",\n        value: this.state.user,\n        onChange: function onChange(event) {\n          _this3.setState({\n            user: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-group u-rounded-50 border u-of-hidden u-mb-20\",\n        id: \"pass_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-addon bg-white border-0 pl-4 pr-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"icon icon-Mail text-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        className: \"form-control border-0 p-3\",\n        placeholder: \"Your password\",\n        value: this.state.password,\n        onChange: function onChange(event) {\n          _this3.setState({\n            password: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"btn btn-primary btn-rounded u-mt-20 u-w-170 mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Login Now\"), this.state.is_loading && React.createElement(Loader, {\n        type: \"Oval\",\n        color: \"#0081FF\",\n        height: 40,\n        width: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"pt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Don't have an account? \", React.createElement(\"a\", {\n        className: \"text-primary pointer\",\n        onClick: this.displayRegDlg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Sign up\"))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\nexport default connect(null, {\n  userSignInSuccess: userSignInSuccess\n})(Login);","map":{"version":3,"sources":["/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/src/app/router/Home/Login/index.js"],"names":["React","$","axios","APIURL","Loader","store","connect","userSignInSuccess","Login","props","state","user","password","is_loading","displayRegDlg","bind","handleSubmit","document","ready","addClass","removeClass","event","preventDefault","validate","setState","params","post","USER_SIGNIN","then","data","result","catch","error","response","code","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport APIURL from '../../../../constants/ApiUrl'\nimport Loader from 'react-loader-spinner'\nimport store from 'store';\nimport {connect} from 'react-redux';\nimport {userSignInSuccess} from '../../../../actions'\n\nexport class Login extends React.Component {\n\n\tconstructor(props) {\n        super(props)\n        \n        this.state = {\n            user: '',\n            password: '',\n            is_loading: false,\n        }\n\n        this.displayRegDlg = this.displayRegDlg.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    displayRegDlg(){\n        $(document).ready(()=>{\n            $('#login').addClass('d-none');\n            $('#login').removeClass('d-block');\n            $('#register').addClass('d-block');\n        })\n    }\n\n    validate(){\n        if (this.state.user === ''){\n            $('#user_wrap').addClass('border-danger');\n            return false;\n        }else{\n            $('#user_wrap').removeClass('border-danger');\n        }\n\n        if (this.state.password === ''){\n            $('#pass_wrap').addClass('border-danger');\n            return false;\n        }else{\n            $('#pass_wrap').removeClass('border-danger');\n        }\n        return true;\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        if (!this.validate()){\n            return;\n        }\n        this.setState({\n            is_loading: true\n        })\n        const params = {\n            user: this.state.user,\n            password: this.state.password,\n        }\n        axios.post(APIURL.USER_SIGNIN, params).then(data => {\n            this.setState({\n                is_loading: false,\n            })\n            const result = data.data;\n            this.props.userSignInSuccess(result.data);\n        }).catch(error => {\n            this.setState({\n                is_loading: false,\n            })\n            if (error.response.data.code === 0){\n                $('#user_wrap').addClass('border-danger');\n            }else{\n                $('#pass_wrap').addClass('border-danger');\n            }\n        })\n    }\n\n\n\trender () {\n\t\treturn (\n            <div className=\"row\" id=\"login\">\n                <div className=\"col-lg-10 mx-auto my-5 text-center\">\n                    <div className=\"card box-shadow-v2 bg-white u-of-hidden\">\n                        <h2 className=\"bg-primary m-0 py-3 text-white\">LOG IN</h2>\n                        <div className=\"p-4 p-md-5\">\n                            <form onSubmit={this.handleSubmit}>\n\n                                <div className=\"input-group u-rounded-50 border u-of-hidden u-mb-20\" id=\"user_wrap\">\n                                    <div className=\"input-group-addon bg-white border-0 pl-4 pr-0\">\n                                        <span className=\"icon icon-User text-primary\"></span>\n                                    </div>\n                                    <input id=\"user\" type=\"text\" className=\"form-control border-0 p-3\" placeholder=\"Your email or full name\" value={this.state.user}\n                                        onChange={(event)=>{\n                                            this.setState({\n                                                user: event.target.value\n                                            })\n                                        }}/>\n                                </div>\n\n                                <div className=\"input-group u-rounded-50 border u-of-hidden u-mb-20\" id=\"pass_wrap\">\n                                    <div className=\"input-group-addon bg-white border-0 pl-4 pr-0\">\n                                        <span className=\"icon icon-Mail text-primary\"></span>\n                                    </div>\n                                    <input id=\"password\"  type=\"password\" className=\"form-control border-0 p-3\" placeholder=\"Your password\" value={this.state.password}\n                                        onChange={(event)=>{\n                                            this.setState({\n                                                password: event.target.value\n                                            })\n                                        }}/>\n                                </div>\n                                    {/* <div className=\"d-flex justify-content-between align-items-center\">\n                                        <label className=\"custom-control custom-checkbox text-left\">\n                                            <input type=\"checkbox\" className=\"custom-control-input\"/>\n                                            <span className=\"custom-control-indicator mt-1\"></span>\n                                            <span className=\"custom-control-description\">Remember me</span>\n                                        </label>\n                                        <a href=\"\">Forgot password?</a>\n                                    </div> */}\n                                <button className=\"btn btn-primary btn-rounded u-mt-20 u-w-170 mb-4\">\n                                    Login Now\n                                </button>\n                                {\n                                    this.state.is_loading && <Loader type=\"Oval\" color=\"#0081FF\" height={40} width={40}/>\n                                }\n                            </form>\n                            <p className=\"pt-4\">\n                                Don't have an account? <a className=\"text-primary pointer\" onClick={this.displayRegDlg}>Sign up</a>\n                            </p>\n                        </div> \n                    </div> \n                </div>\n            </div> \n\t\t)\n\t}\n}\n\nexport default connect(null, {userSignInSuccess})(Login);"]},"metadata":{},"sourceType":"module"}