{"ast":null,"code":"import _classCallCheck from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/src/app/router/CityLife/MainContent/Result/index.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { setStep, setResultBackground } from '../../../../../actions';\nimport 'react-inputs-validation/lib/react-inputs-validation.min.css';\nimport $ from 'jquery';\nimport ReactTooltip from 'react-tooltip';\n\nvar Result =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Result, _React$Component);\n\n  function Result(props) {\n    var _this;\n\n    _classCallCheck(this, Result);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Result).call(this, props));\n\n    _this.componentDidUpdate = function (prevProps, prevState) {\n      if (_this.props.targetCity.key !== prevProps.targetCity.key) {\n        _this.initData();\n      }\n    };\n\n    _this.state = {\n      currencyRates: null,\n      newCostOfLiving: 0,\n      rentPercentChange: 0,\n      groceriesPercentChange: 0,\n      restaurantPercentChange: 0,\n      purchasingPercentChange: 0,\n      scores: null\n    };\n    _this.prevStep = _this.prevStep.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Result, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initData();\n    }\n  }, {\n    key: \"initData\",\n    value: function initData() {\n      this.getCityLifeData();\n      this.getCurrencyRate();\n      this.getCityPhotos();\n      this.getCityScore();\n    }\n  }, {\n    key: \"getCityLifeData\",\n    value: function getCityLifeData() {\n      var temp_newCostOfLiving = this.props.salary + this.props.salary * ((this.props.targetCity.index - this.props.currentCity.index) / this.props.currentCity.index);\n      this.setState({\n        newCostOfLiving: temp_newCostOfLiving,\n        rentPercentChange: Math.round((this.props.targetCity.rent_index - this.props.currentCity.rent_index) / this.props.currentCity.rent_index * 100),\n        groceriesPercentChange: Math.round((this.props.targetCity.groceries_index - this.props.currentCity.groceries_index) / this.props.currentCity.groceries_index * 100),\n        restaurantPercentChange: Math.round((this.props.targetCity.restaurant_index - this.props.currentCity.restaurant_index) / this.props.currentCity.restaurant_index * 100),\n        purchasingPercentChange: Math.round((this.props.targetCity.purchasing_index - this.props.currentCity.purchasing_index) / this.props.currentCity.purchasing_index * 100)\n      });\n    }\n  }, {\n    key: \"getCurrencyRate\",\n    value: function getCurrencyRate() {\n      var _this2 = this;\n\n      axios.get('https://openexchangerates.org/api/latest.json?app_id=0cc840f2153c4d378b1a2687918435e7').then(function (data) {\n        _this2.setState({\n          currencyRates: data.data.rates\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"getCityPhotos\",\n    value: function getCityPhotos() {\n      var _this3 = this;\n\n      if (this.props.targetCity.slug !== '') {\n        axios.get(\"https://api.teleport.org/api/urban_areas/slug:\".concat(this.props.targetCity.slug.toLowerCase(), \"/images/\")).then(function (data) {\n          _this3.props.setResultBackground(data.data.photos[0].image.web);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        this.setState({\n          photo: 'assets/img/software/hero-banner.jpg'\n        });\n      }\n    }\n  }, {\n    key: \"getCityScore\",\n    value: function getCityScore() {\n      var _this4 = this;\n\n      if (this.props.targetCity.slug !== '') {\n        axios.get(\"https://api.teleport.org/api/urban_areas/slug:\".concat(this.props.targetCity.slug.toLowerCase(), \"/scores/\")).then(function (data) {\n          console.log(data.data);\n\n          _this4.setState({\n            scores: data.data\n          });\n\n          $(document).ready(function () {\n            $('#city_summary').html(data.data.summary);\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        this.setState({\n          photo: 'assets/img/software/hero-banner.jpg'\n        });\n      }\n    }\n  }, {\n    key: \"prevStep\",\n    value: function prevStep() {\n      this.props.setStep(this.props.step - 1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var newCityCurrencyCostOfLiving = function newCityCurrencyCostOfLiving() {\n        if (_this5.state.currencyRates) {\n          return _this5.state.currencyRates[_this5.props.targetCity.currency_type] / _this5.state.currencyRates[_this5.props.currentCity.currency_type] * _this5.state.newCostOfLiving;\n        }\n\n        return _this5.state.newCostOfLiving;\n      };\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        id: \"result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 text-center mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-white mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"To have the same standard of living, a comparable salary would be\"), React.createElement(\"h1\", {\n        className: \"text-aqua\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"\\u2248 \", this.props.currentCity.currency_type, \" \", (Math.round(this.state.newCostOfLiving / 100) * 100).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \"\\xA0\\xA0( \", this.props.targetCity.currency_type, \" \", (Math.round(newCityCurrencyCostOfLiving() / 100) * 100).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \"  )\")), React.createElement(\"div\", {\n        className: \"col-12 mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"city_summary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-12 text-center mb-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-6 mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"data_content\",\n        \"data-tip\": true,\n        \"data-for\": \"rent\",\n        \"data-place\": \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"assets/img/home-icon.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        className: \"text-white my-md-3 my-1\",\n        \"data-tip\": \"hello world\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Rent/Living\"), React.createElement(\"div\", {\n        className: \"percentage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, Math.abs(this.state.rentPercentChange), \" % \\xA0\", this.state.rentPercentChange > 0 ? React.createElement(\"i\", {\n        className: \"fa fa-arrow-up arrow-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }) : React.createElement(\"i\", {\n        className: \"fa fa-arrow-down arrow-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }))), React.createElement(ReactTooltip, {\n        id: \"rent\",\n        type: \"light\",\n        effect: \"float\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, this.state.rentPercentChange > 0 ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Rent is \", this.state.rentPercentChange, \"% more expensive\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), \" in \", this.props.targetCity.key) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Rent is cheaper by \", this.state.rentPercentChange, \"% \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), \"in \", this.props.targetCity.key))), React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-6 mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"data_content\",\n        \"data-tip\": true,\n        \"data-for\": \"groceries\",\n        \"data-place\": \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"assets/img/groceries-icon.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        className: \"text-white my-md-3 my-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Groceries\"), React.createElement(\"div\", {\n        className: \"percentage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, Math.abs(this.state.groceriesPercentChange), \" % \\xA0\", this.state.groceriesPercentChange > 0 ? React.createElement(\"i\", {\n        className: \"fa fa-arrow-up arrow-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }) : React.createElement(\"i\", {\n        className: \"fa fa-arrow-down arrow-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }))), React.createElement(ReactTooltip, {\n        id: \"groceries\",\n        type: \"light\",\n        effect: \"float\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, this.state.groceriesPercentChange > 0 ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Groceries is \", this.state.groceriesPercentChange, \"% more expensive\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), \" in \", this.props.targetCity.key) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Groceries is cheaper by \", this.state.groceriesPercentChange, \"% \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), \"in \", this.props.targetCity.key))), React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-6 mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"data_content\",\n        \"data-tip\": true,\n        \"data-for\": \"restaurant\",\n        \"data-place\": \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"assets/img/restaurant-icon.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        className: \"text-white my-md-3 my-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Dining Out\"), React.createElement(\"div\", {\n        className: \"percentage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, Math.abs(this.state.restaurantPercentChange), \" % \\xA0\", this.state.restaurantPercentChange > 0 ? React.createElement(\"i\", {\n        className: \"fa fa-arrow-up arrow-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }) : React.createElement(\"i\", {\n        className: \"fa fa-arrow-down arrow-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }))), React.createElement(ReactTooltip, {\n        id: \"restaurant\",\n        type: \"light\",\n        effect: \"float\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, this.state.restaurantPercentChange > 0 ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Dining Out is \", this.state.restaurantPercentChange, \"% more expensive\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), \" in \", this.props.targetCity.key) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Dining Out is cheaper by \", this.state.restaurantPercentChange, \"% \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), \"in \", this.props.targetCity.key))), React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-6 mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"data_content\",\n        \"data-tip\": true,\n        \"data-for\": \"purchase\",\n        \"data-place\": \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"assets/img/purchase-icon.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        className: \"text-white my-md-3 my-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Purchasing Power\"), React.createElement(\"div\", {\n        className: \"percentage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, Math.abs(this.state.purchasingPercentChange), \" % \\xA0\", this.state.purchasingPercentChange > 0 ? React.createElement(\"i\", {\n        className: \"fa fa-arrow-up arrow-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }) : React.createElement(\"i\", {\n        className: \"fa fa-arrow-down arrow-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }))), React.createElement(ReactTooltip, {\n        id: \"purchase\",\n        type: \"light\",\n        effect: \"float\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, this.state.restaurantPercentChange > 0 ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Purchasing power is \", this.state.restaurantPercentChange, \"% higher\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), \" in \", this.props.targetCity.key) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Purchasing power is \", this.state.restaurantPercentChange, \"% lower\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), \"in \", this.props.targetCity.key))))), React.createElement(\"div\", {\n        className: \"col-lg-9 col-md-10 col-sm-12 mx-auto mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-md btn-rounded btn-danger text-white u-w-110\",\n        onClick: this.prevStep,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"PREV\")), React.createElement(\"div\", {\n        className: \"col-6 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Result;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var ui = _ref.ui,\n      citylife = _ref.citylife;\n  var resultBackground = ui.resultBackground;\n  var targetCity = citylife.targetCity,\n      step = citylife.step,\n      currentCity = citylife.currentCity,\n      salary = citylife.salary;\n  return {\n    resultBackground: resultBackground,\n    targetCity: targetCity,\n    step: step,\n    currentCity: currentCity,\n    salary: salary\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setStep: setStep,\n  setResultBackground: setResultBackground\n})(Result);","map":{"version":3,"sources":["/Volumes/WorkDisk/WebTask/Completed/CityLife/citylife_front/src/app/router/CityLife/MainContent/Result/index.js"],"names":["React","connect","axios","setStep","setResultBackground","$","ReactTooltip","Result","props","componentDidUpdate","prevProps","prevState","targetCity","key","initData","state","currencyRates","newCostOfLiving","rentPercentChange","groceriesPercentChange","restaurantPercentChange","purchasingPercentChange","scores","prevStep","bind","getCityLifeData","getCurrencyRate","getCityPhotos","getCityScore","temp_newCostOfLiving","salary","index","currentCity","setState","Math","round","rent_index","groceries_index","restaurant_index","purchasing_index","get","then","data","rates","catch","error","console","log","slug","toLowerCase","photos","image","web","photo","document","ready","html","summary","step","newCityCurrencyCostOfLiving","currency_type","toString","replace","abs","Component","mapStateToProps","ui","citylife","resultBackground"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { \n    setStep,\n    setResultBackground\n} from '../../../../../actions';\nimport 'react-inputs-validation/lib/react-inputs-validation.min.css';\nimport $ from 'jquery';\nimport ReactTooltip from 'react-tooltip'\n\nclass Result extends React.Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            currencyRates: null,\n            newCostOfLiving: 0,\n            rentPercentChange: 0,\n            groceriesPercentChange: 0,\n            restaurantPercentChange: 0,\n            purchasingPercentChange: 0,\n            scores: null\n        };\n\n        this.prevStep = this.prevStep.bind(this);\n    }\n    \n    componentDidMount(){\n        this.initData();\n    }\n\n    componentDidUpdate = (prevProps, prevState) => {\n        if (this.props.targetCity.key !== prevProps.targetCity.key) {\n            this.initData();\n        }\n    }\n\n    initData(){\n        this.getCityLifeData();\n        this.getCurrencyRate();\n        this.getCityPhotos();\n        this.getCityScore();\n    }\n\n    getCityLifeData(){\n        let temp_newCostOfLiving =this.props.salary + this.props.salary * ((this.props.targetCity.index - this.props.currentCity.index) /  this.props.currentCity.index);\n        this.setState({\n            newCostOfLiving: temp_newCostOfLiving,\n            rentPercentChange: Math.round(((this.props.targetCity.rent_index - this.props.currentCity.rent_index)/this.props.currentCity.rent_index) * 100),\n            groceriesPercentChange: Math.round(((this.props.targetCity.groceries_index - this.props.currentCity.groceries_index)/this.props.currentCity.groceries_index) * 100),\n            restaurantPercentChange: Math.round(((this.props.targetCity.restaurant_index - this.props.currentCity.restaurant_index)/this.props.currentCity.restaurant_index) * 100),\n            purchasingPercentChange: Math.round(((this.props.targetCity.purchasing_index - this.props.currentCity.purchasing_index)/this.props.currentCity.purchasing_index) * 100),\n        })\n    }\n\n    getCurrencyRate(){\n        axios.get('https://openexchangerates.org/api/latest.json?app_id=0cc840f2153c4d378b1a2687918435e7')\n            .then(data => {\n                this.setState({\n                    currencyRates: data.data.rates\n                })\n            }).catch(error => {\n                console.log(error);\n            });\n    }\n\n    getCityPhotos(){\n        if (this.props.targetCity.slug !== ''){\n            axios.get(`https://api.teleport.org/api/urban_areas/slug:${this.props.targetCity.slug.toLowerCase()}/images/`)\n            .then(data => {\n                this.props.setResultBackground(data.data.photos[0].image.web)\n            }).catch(error => {\n                console.log(error);\n            });\n        }else{\n            this.setState({\n                photo: 'assets/img/software/hero-banner.jpg'\n            })\n        }\n    }\n\n    getCityScore(){\n        if (this.props.targetCity.slug !== ''){\n            axios.get(`https://api.teleport.org/api/urban_areas/slug:${this.props.targetCity.slug.toLowerCase()}/scores/`)\n            .then(data => {\n                console.log(data.data)\n                this.setState({\n                    scores: data.data\n                })\n                $(document).ready(()=>{\n                    $('#city_summary').html(data.data.summary);\n                })\n            }).catch(error => {\n                console.log(error);\n            });\n        }else{\n            this.setState({\n                photo: 'assets/img/software/hero-banner.jpg'\n            })\n        }\n    }\n\n    prevStep(){\n        this.props.setStep(this.props.step - 1)\n    }\n\n    render () {\n        \n        const newCityCurrencyCostOfLiving = () => {\n            if (this.state.currencyRates){\n                return this.state.currencyRates[this.props.targetCity.currency_type] / this.state.currencyRates[this.props.currentCity.currency_type] * this.state.newCostOfLiving\n            }\n            return this.state.newCostOfLiving;\n        }\n        \n        return (\n            <div className=\"row\" id=\"result\">\n                <div className=\"col-12 text-center mb-5\">\n                    <h2 className=\"text-white mt-5\">To have the same standard of living, a comparable salary would be</h2>\n                    <h1 className=\"text-aqua\">\n                        ≈ {this.props.currentCity.currency_type} {(Math.round(this.state.newCostOfLiving/100)*100).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} \n                        &nbsp;&nbsp;( {this.props.targetCity.currency_type} {(Math.round(newCityCurrencyCostOfLiving()/100)*100).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}  )\n                    </h1>\n                </div>\n                <div className=\"col-12 mb-5\">\n                    <div id=\"city_summary\"></div>\n                </div>\n                <div className=\"col-12 text-center mb-6\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-3 col-md-6 mb-5\">\n                            <div className=\"data_content\" data-tip data-for='rent'  data-place=\"bottom\">\n                                <img src=\"assets/img/home-icon.png\" alt=\"\"/>\n                                <h3 className=\"text-white my-md-3 my-1\"  data-tip=\"hello world\">Rent/Living</h3>\n                                <div \n                                    className=\"percentage\">{Math.abs(this.state.rentPercentChange)} % &nbsp;\n                                    {this.state.rentPercentChange > 0 ? <i className=\"fa fa-arrow-up arrow-up\"></i> : <i className=\"fa fa-arrow-down arrow-down\"></i>}\n                                </div>\n                            </div>\n                            <ReactTooltip id='rent' type=\"light\" effect=\"float\">\n                                {\n                                    this.state.rentPercentChange > 0 ? \n                                    <span>Rent is {this.state.rentPercentChange}% more expensive<br></br> in {this.props.targetCity.key}</span> :\n                                    <span>Rent is cheaper by {this.state.rentPercentChange}% <br></br>in {this.props.targetCity.key}</span>\n                                }\n                            </ReactTooltip>\n                        </div>\n                        <div className=\"col-lg-3 col-md-6 mb-5\">\n                            <div className=\"data_content\" data-tip data-for='groceries'  data-place=\"bottom\">\n                                <img src=\"assets/img/groceries-icon.png\" alt=\"\"/>\n                                <h3 className=\"text-white my-md-3 my-1\">Groceries</h3>\n                                <div className=\"percentage\">\n                                    {Math.abs(this.state.groceriesPercentChange)} % &nbsp;\n                                    {this.state.groceriesPercentChange > 0 ? <i className=\"fa fa-arrow-up arrow-up\"></i> : <i className=\"fa fa-arrow-down arrow-down\"></i>}\n                                </div>\n                            </div>\n                            <ReactTooltip id='groceries' type=\"light\" effect=\"float\">\n                                {\n                                    this.state.groceriesPercentChange > 0 ? \n                                    <span>Groceries is {this.state.groceriesPercentChange}% more expensive<br></br> in {this.props.targetCity.key}</span> :\n                                    <span>Groceries is cheaper by {this.state.groceriesPercentChange}% <br></br>in {this.props.targetCity.key}</span>\n                                }\n                            </ReactTooltip>\n                        </div>\n                        <div className=\"col-lg-3 col-md-6 mb-5\">\n                            <div className=\"data_content\" data-tip data-for='restaurant'  data-place=\"bottom\">\n                                <img src=\"assets/img/restaurant-icon.png\" alt=\"\"/>\n                                <h3 className=\"text-white my-md-3 my-1\">Dining Out</h3>\n                                <div className=\"percentage\">\n                                    {Math.abs(this.state.restaurantPercentChange)} % &nbsp;\n                                    {this.state.restaurantPercentChange > 0 ? <i className=\"fa fa-arrow-up arrow-up\"></i> : <i className=\"fa fa-arrow-down arrow-down\"></i>}\n                                </div>\n                            </div>\n                            <ReactTooltip id='restaurant' type=\"light\" effect=\"float\">\n                                {\n                                    this.state.restaurantPercentChange > 0 ? \n                                    <span>Dining Out is {this.state.restaurantPercentChange}% more expensive<br></br> in {this.props.targetCity.key}</span> :\n                                    <span>Dining Out is cheaper by {this.state.restaurantPercentChange}% <br></br>in {this.props.targetCity.key}</span>\n                                }\n                            </ReactTooltip>\n                        </div>\n                        <div className=\"col-lg-3 col-md-6 mb-5\">\n                            <div className=\"data_content\" data-tip data-for='purchase'  data-place=\"bottom\">\n                                <img src=\"assets/img/purchase-icon.png\" alt=\"\"/>\n                                <h3 className=\"text-white my-md-3 my-1\">Purchasing Power</h3>\n                                <div className=\"percentage\">\n                                    {Math.abs(this.state.purchasingPercentChange)} % &nbsp;\n                                    {this.state.purchasingPercentChange > 0 ? <i className=\"fa fa-arrow-up arrow-up\"></i> : <i className=\"fa fa-arrow-down arrow-down\"></i>}\n                                </div>\n                            </div>\n                            <ReactTooltip id='purchase' type=\"light\" effect=\"float\">\n                                {\n                                    this.state.restaurantPercentChange > 0 ? \n                                    <span>Purchasing power is {this.state.restaurantPercentChange}% higher<br></br> in {this.props.targetCity.key}</span> :\n                                    <span>Purchasing power is {this.state.restaurantPercentChange}% lower<br></br>in {this.props.targetCity.key}</span>\n                                }\n                            </ReactTooltip>\n                        </div>\n                    </div>\n                </div>\n                \n                <div className=\"col-lg-9 col-md-10 col-sm-12 mx-auto mt-5\">\n                    <div className=\"row\">\n                        <div className=\"col-6\">\n                            <button className=\"btn btn-md btn-rounded btn-danger text-white u-w-110\" onClick={this.prevStep}>PREV</button>\n                        </div>\n                        <div className=\"col-6 text-right\"></div>\n                    </div>\n                </div>\n            </div> \n\t\t)\n\t}\n}\n\nconst mapStateToProps = ({ui, citylife}) => {\n    const {resultBackground} = ui;\n    const {targetCity, step, currentCity, salary} = citylife;\n    return {resultBackground, targetCity, step, currentCity, salary};\n}\n\nexport default connect (mapStateToProps, {\n    setStep,\n    setResultBackground\n}) (Result);"]},"metadata":{},"sourceType":"module"}